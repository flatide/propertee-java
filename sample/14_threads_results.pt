// 14 - Thread Results
// Threads can return any value: numbers, strings, objects, arrays.

thread compute(n) do
    result = n * n + n
    PRINT("compute(" + TO_STRING(n) + ") = " + TO_STRING(result))
    return result
end

thread build_report(id) do
    report = {
        id: id,
        value: id * 100,
        status: "complete"
    }
    PRINT("Built report #" + TO_STRING(id))
    return report
end

multi
    compute(5) -> val1
    compute(3) -> val2
    build_report(42) -> report
end

PRINT("---")
PRINT("val1:", val1.value)
PRINT("val2:", val2.value)
PRINT("report.id:", report.value.id)
PRINT("report.value:", report.value.value)
PRINT("report.status:", report.value.status)
PRINT("Sum of computations:", val1.value + val2.value)
