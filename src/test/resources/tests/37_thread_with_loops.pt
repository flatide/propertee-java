// Test: Functions with loops in multi blocks
function accumulate(n) do
    total = 0
    i = 1
    loop i <= n infinite do
        total = total + i
        i = i + 1
    end
    return total
end

function buildList(n) do
    result = []
    i = 0
    loop i < n infinite do
        result = PUSH(result, i * 10)
        i = i + 1
    end
    return result
end

multi results do
    thread sum: accumulate(10)
    thread list: buildList(4)
end

PRINT(results.sum.value)
PRINT(results.list.value)
