// Test: Multiple threads executing concurrently
function work(id) do
    result = id * id
    return result
end

multi result do
    thread work(1) -> r1
    thread work(2) -> r2
    thread work(3) -> r3
    thread work(4) -> r4
    thread work(5) -> r5
end

PRINT(result.r1.value)
PRINT(result.r2.value)
PRINT(result.r3.value)
PRINT(result.r4.value)
PRINT(result.r5.value)
total = result.r1.value + result.r2.value + result.r3.value + result.r4.value + result.r5.value
PRINT(total)
