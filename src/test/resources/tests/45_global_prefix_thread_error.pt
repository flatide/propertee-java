// Test: :: write in multi block is an error (thread purity)
x = 10

function badWriter() do
    ::x = 999
    return ::x
end

multi
    thread badWriter() -> res
end

PRINT("ok:", res.ok)
PRINT("error:", res.value)
