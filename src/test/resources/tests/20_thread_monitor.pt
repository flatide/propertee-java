// Test: Monitor block runs during multi execution
function counter(n) do
    i = 0
    loop i < n infinite do
        i = i + 1
    end
    return i
end

multi result do
    thread counter(10) -> r
monitor 20
    PRINT("tick")
end

PRINT("r=" + TO_STRING(result.r.value))
